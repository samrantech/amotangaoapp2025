<ion-header mode="md" class="ion-no-border">
  <ion-toolbar>   
    <div class="heading">
      <ion-buttons slot="start">
        <ion-button (click)="onBack()">
          <ion-icon name="chevron-back"></ion-icon>
        </ion-button>
      </ion-buttons>
      <div class="logo">
        <ion-title class="h5">Class Pack</ion-title>
      </div>
      <div class="btn"> 
        <ion-buttons slot="start" (click)="gotonotifications()">
          <div class="carticon"><ion-icon name="notifications-outline" ></ion-icon> 
            <ion-badge color="danger" *ngIf="ncsCount">{{ncsCount}}</ion-badge>
          </div>
         </ion-buttons> 
        <ion-buttons slot="start" (click)="gotocart()">
          <div class="carticon"><ion-icon name="cart" ></ion-icon> 
            <ion-badge color="danger" *ngIf="cartCount">{{cartCount}}</ion-badge>
          </div>
         </ion-buttons>   
        <ion-buttons slot="start">
          <ion-menu-button></ion-menu-button>
        </ion-buttons>  
      </div>
    </div>   
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
 
<div *ngIf="arrOurclasses">
<div class="bg_img" *ngFor="let item of arrOurclasses">
  <ion-card>
    <ion-card-header>
    <ion-card-subtitle>{{item.name}}</ion-card-subtitle>
    </ion-card-header>
  
    <ion-card-content>
      <div><p>{{item.description}}</p><p><b>Date of purchase:</b> {{item.created_at}}</p><p><b>Remaining classes:</b> {{item.remain_class}}</p></div>
     
        <div class="qrcodeImage">
          <qrcode 
          [qrdata]='onatob(item.bookingcategory + "_" + item.id)'
          [width]="100"  
          [errorCorrectionLevel]="'M'"
          [cssClass]="'center'"
          [colorDark]="'#000000ff'"
          [colorLight]="'#ffffffff'"
          [elementType]="'canvas'"
          [imageSrc]="'./assets/images/QR_cimage.png'"
          
          ></qrcode>
        </div>    
    </ion-card-content>
  </ion-card>
  <div *ngIf="item.history">
    <p>History</p>
   <ion-card *ngFor="let items of item.history;index as i;">
     <ion-card-header>
       <ion-card-subtitle>{{i+1}}. {{items.class_date}}</ion-card-subtitle>
      </ion-card-header>  
   </ion-card>
 </div>
</div>
</div>   
</ion-content>

